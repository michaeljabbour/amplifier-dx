<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amplifier Documentation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <style>
    :root {
      --bg-0: #09090b;
      --bg-1: #0f0f11;
      --bg-2: #18181b;
      --bg-3: #27272a;
      --bg-hover: #1f1f23;
      --text-0: #fafafa;
      --text-1: #d4d4d8;
      --text-2: #a1a1aa;
      --text-3: #71717a;
      --accent: #6366f1;
      --accent-dim: rgba(99, 102, 241, 0.15);
      --green: #10b981;
      --orange: #f97316;
      --red: #ef4444;
      --border: #27272a;
      --sidebar-width: 220px;
      --header-height: 44px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, sans-serif;
      font-size: 13px;
      background: var(--bg-0);
      color: var(--text-1);
      line-height: 1.6;
    }

    /* Header - compact */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-height);
      background: var(--bg-1);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      padding: 0 16px;
      z-index: 100;
    }

    .header-brand {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--text-0);
    }

    .header-icon {
      width: 22px;
      height: 22px;
      background: linear-gradient(135deg, var(--accent), #8b5cf6);
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 12px;
      color: white;
    }

    .header-title {
      font-weight: 600;
      font-size: 14px;
      letter-spacing: -0.01em;
    }

    .header-divider {
      width: 1px;
      height: 18px;
      background: var(--border);
      margin: 0 12px;
    }

    .header-subtitle {
      font-size: 12px;
      color: var(--text-3);
    }

    .header-actions {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .header-link {
      color: var(--text-2);
      text-decoration: none;
      font-size: 12px;
      padding: 5px 10px;
      border-radius: 5px;
      transition: all 0.15s;
    }

    .header-link:hover {
      color: var(--text-0);
      background: var(--bg-3);
    }

    .header-link svg {
      width: 14px;
      height: 14px;
      vertical-align: -2px;
      margin-right: 4px;
    }

    /* Layout */
    .layout {
      display: flex;
      padding-top: var(--header-height);
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: var(--header-height);
      left: 0;
      width: var(--sidebar-width);
      height: calc(100vh - var(--header-height));
      background: var(--bg-1);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      padding: 12px 0;
    }

    .sidebar::-webkit-scrollbar { width: 4px; }
    .sidebar::-webkit-scrollbar-track { background: transparent; }
    .sidebar::-webkit-scrollbar-thumb { background: var(--bg-3); border-radius: 2px; }

    /* Search */
    .search-box {
      padding: 0 12px 12px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 8px;
    }

    .search-input {
      width: 100%;
      padding: 7px 10px 7px 30px;
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-1);
      font-size: 12px;
      outline: none;
      transition: border-color 0.15s;
    }

    .search-input::placeholder { color: var(--text-3); }
    .search-input:focus { border-color: var(--accent); }

    .search-wrap {
      position: relative;
    }

    .search-icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-3);
      width: 13px;
      height: 13px;
    }

    .search-key {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--bg-3);
      padding: 1px 5px;
      border-radius: 3px;
      font-size: 10px;
      color: var(--text-3);
      font-family: 'JetBrains Mono', monospace;
    }

    .search-results {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: 6px;
      max-height: 280px;
      overflow-y: auto;
      display: none;
      z-index: 50;
    }

    .search-results.show { display: block; }

    .search-result {
      padding: 8px 10px;
      cursor: pointer;
      border-bottom: 1px solid var(--border);
    }

    .search-result:last-child { border-bottom: none; }
    .search-result:hover { background: var(--bg-hover); }

    .search-result-title {
      font-size: 12px;
      font-weight: 500;
      color: var(--text-0);
    }

    .search-result-path {
      font-size: 11px;
      color: var(--text-3);
      margin-top: 1px;
    }

    /* Nav */
    .nav-group {
      margin-bottom: 4px;
    }

    .nav-header {
      display: flex;
      align-items: center;
      padding: 6px 12px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-2);
      cursor: pointer;
      user-select: none;
      transition: color 0.15s;
    }

    .nav-header:hover { color: var(--text-0); }

    .nav-header.open { color: var(--text-0); }

    .nav-arrow {
      width: 12px;
      height: 12px;
      margin-right: 6px;
      transition: transform 0.15s;
      color: var(--text-3);
    }

    .nav-header.open .nav-arrow { transform: rotate(90deg); }

    .nav-items {
      display: none;
      padding-left: 18px;
    }

    .nav-items.show { display: block; }

    .nav-item {
      display: block;
      padding: 5px 12px;
      font-size: 12px;
      color: var(--text-2);
      text-decoration: none;
      cursor: pointer;
      border-left: 2px solid transparent;
      transition: all 0.1s;
    }

    .nav-item:hover {
      color: var(--text-1);
      background: var(--bg-hover);
    }

    .nav-item.active {
      color: var(--accent);
      border-left-color: var(--accent);
      background: var(--accent-dim);
    }

    /* Main content */
    .main {
      flex: 1;
      margin-left: var(--sidebar-width);
      padding: 32px 48px;
      max-width: 900px;
    }

    .content {
      max-width: 720px;
    }

    /* Typography */
    h1 {
      font-size: 24px;
      font-weight: 600;
      color: var(--text-0);
      margin-bottom: 8px;
      letter-spacing: -0.02em;
    }

    h2 {
      font-size: 17px;
      font-weight: 600;
      color: var(--text-0);
      margin: 32px 0 10px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      letter-spacing: -0.01em;
    }

    h2:first-of-type {
      margin-top: 24px;
      padding-top: 0;
      border-top: none;
    }

    h3 {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-0);
      margin: 20px 0 8px;
    }

    p {
      margin-bottom: 12px;
      color: var(--text-1);
    }

    .lead {
      font-size: 14px;
      color: var(--text-2);
      margin-bottom: 24px;
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9em;
      background: var(--bg-2);
      padding: 2px 5px;
      border-radius: 3px;
      color: var(--orange);
    }

    pre {
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      margin: 12px 0;
      overflow-x: auto;
      font-size: 12px;
    }

    pre code {
      background: none;
      padding: 0;
      color: var(--text-1);
    }

    /* Lists */
    ul, ol { margin: 8px 0 12px; padding-left: 20px; }
    li { margin-bottom: 4px; }
    ul li { list-style-type: disc; }
    ol li { list-style-type: decimal; }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
      font-size: 12px;
    }

    th, td {
      text-align: left;
      padding: 8px 10px;
      border-bottom: 1px solid var(--border);
    }

    th {
      font-weight: 600;
      color: var(--text-0);
      background: var(--bg-2);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    td { color: var(--text-1); }
    tr:hover td { background: var(--bg-2); }

    /* Callouts */
    .callout {
      padding: 10px 12px;
      border-radius: 6px;
      margin: 12px 0;
      border-left: 3px solid;
      font-size: 12px;
    }

    .callout-info {
      background: rgba(99, 102, 241, 0.1);
      border-color: var(--accent);
    }

    .callout-warning {
      background: rgba(249, 115, 22, 0.1);
      border-color: var(--orange);
    }

    .callout-danger {
      background: #dc2626;
      border-color: #991b1b;
    }

    .callout-danger, .callout-danger p { color: #fff; }

    .callout p { margin: 0; }

    /* Info box */
    .info-box {
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      margin: 12px 0;
    }

    .info-box strong {
      color: var(--text-0);
      display: block;
      margin-bottom: 6px;
      font-size: 12px;
    }

    /* Cards */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }

    .card {
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 14px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .card:hover {
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .card-title {
      font-weight: 600;
      font-size: 13px;
      color: var(--text-0);
      margin-bottom: 4px;
    }

    .card-desc {
      font-size: 12px;
      color: var(--text-2);
    }

    /* Section visibility */
    .doc-section { display: none; }
    .doc-section.active { display: block; }

    /* Responsive */
    @media (max-width: 800px) {
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.2s;
        z-index: 99;
      }
      .sidebar.open { transform: translateX(0); }
      .main { margin-left: 0; padding: 24px 20px; }
      .menu-btn { display: flex; }
    }

    .menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-1);
      padding: 4px;
      margin-right: 8px;
      cursor: pointer;
    }

    @media (max-width: 800px) {
      .menu-btn { display: flex; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <button class="menu-btn" onclick="document.getElementById('sidebar').classList.toggle('open')">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <a href="#" class="header-brand" onclick="showSection('introduction'); return false;">
      <div class="header-icon">A</div>
      <span class="header-title">Amplifier</span>
    </a>
    <div class="header-divider"></div>
    <span class="header-subtitle">Documentation</span>
    <div class="header-actions">
      <a href="https://github.com/microsoft/amplifier" class="header-link" target="_blank">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
        GitHub
      </a>
      <a href="index.html" class="header-link">Original Layout</a>
    </div>
  </header>

  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="search-box">
        <div class="search-wrap">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" class="search-input" id="search-input" placeholder="Search..." onkeyup="handleSearch(event)">
          <span class="search-key">/</span>
          <div class="search-results" id="search-results"></div>
        </div>
      </div>

      <nav>
        <!-- Getting Started -->
        <div class="nav-group">
          <div class="nav-header open" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Getting Started
          </div>
          <div class="nav-items show">
            <a class="nav-item active" data-section="introduction">Introduction</a>
            <a class="nav-item" data-section="quickstart">Quickstart</a>
            <a class="nav-item" data-section="installation">Installation</a>
          </div>
        </div>

        <!-- User Guide -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            User Guide
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="cli">CLI Reference</a>
            <a class="nav-item" data-section="profiles">Profiles</a>
            <a class="nav-item" data-section="sessions">Sessions</a>
            <a class="nav-item" data-section="agents">Agents</a>
            <a class="nav-item" data-section="collections">Collections</a>
          </div>
        </div>

        <!-- Architecture -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Architecture
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="overview">Overview</a>
            <a class="nav-item" data-section="kernel">Kernel Design</a>
            <a class="nav-item" data-section="modules">Module System</a>
            <a class="nav-item" data-section="mount-plans">Mount Plans</a>
            <a class="nav-item" data-section="events">Events</a>
          </div>
        </div>

        <!-- Developer Guide -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Developer Guide
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="dev-tools">Custom Tools</a>
            <a class="nav-item" data-section="dev-hooks">Hooks</a>
            <a class="nav-item" data-section="dev-providers">Providers</a>
            <a class="nav-item" data-section="contracts">Contracts</a>
            <a class="nav-item" data-section="testing">Testing</a>
          </div>
        </div>

        <!-- Reference -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Reference
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="mod-providers">Providers</a>
            <a class="nav-item" data-section="mod-tools">Tools</a>
            <a class="nav-item" data-section="mod-orchestrators">Orchestrators</a>
            <a class="nav-item" data-section="lib-core">amplifier-core</a>
            <a class="nav-item" data-section="lib-profiles">amplifier-profiles</a>
            <a class="nav-item" data-section="lib-collections">amplifier-collections</a>
          </div>
        </div>

        <!-- Ecosystem -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Ecosystem
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="showcase">Showcase</a>
            <a class="nav-item" data-section="official-collections">Official Collections</a>
          </div>
        </div>

        <!-- Community -->
        <div class="nav-group">
          <div class="nav-header" onclick="toggleGroup(this)">
            <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
            Community
          </div>
          <div class="nav-items">
            <a class="nav-item" data-section="contributing">Contributing</a>
            <a class="nav-item" data-section="roadmap">Roadmap</a>
          </div>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <div class="content">
        <!-- Introduction -->
        <div class="doc-section active" id="section-introduction">
          <h1>Introduction</h1>
          <p class="lead">Amplifier is Microsoft's open-source AI agent orchestration system built on Linux-kernel philosophy.</p>

          <p>A tiny, stable center (~2,600 lines) provides mechanisms, while policies live as swappable modules at the edges. No frameworks, no inheritance hierarchies—just clean protocols.</p>

          <div class="cards">
            <div class="card" onclick="showSection('quickstart')">
              <div class="card-title">Use It</div>
              <div class="card-desc">Run agents with pre-built providers and tools</div>
            </div>
            <div class="card" onclick="showSection('dev-tools')">
              <div class="card-title">Extend It</div>
              <div class="card-desc">Write custom tools in 2 minutes</div>
            </div>
            <div class="card" onclick="showSection('overview')">
              <div class="card-title">Embed It</div>
              <div class="card-desc">Build products on Amplifier's kernel</div>
            </div>
          </div>

          <h2>Quick Reference</h2>
          <table>
            <tr><td><strong>Repository</strong></td><td><a href="https://github.com/microsoft/amplifier" target="_blank">github.com/microsoft/amplifier</a></td></tr>
            <tr><td><strong>Core Kernel</strong></td><td><a href="https://github.com/microsoft/amplifier-core" target="_blank">github.com/microsoft/amplifier-core</a></td></tr>
            <tr><td><strong>License</strong></td><td>MIT</td></tr>
            <tr><td><strong>Core Size</strong></td><td>~2,600 lines</td></tr>
          </table>

          <h2>Design Philosophy</h2>
          <p><strong>Mechanism over policy.</strong> The kernel provides capabilities without deciding how to use them. Policies belong in modules.</p>

          <div class="info-box">
            <strong>Linux Kernel Analogy</strong>
            <table>
              <tr><th>Linux</th><th>Amplifier</th><th>Function</th></tr>
              <tr><td>Kernel</td><td>amplifier-core</td><td>Core mechanisms</td></tr>
              <tr><td>Drivers</td><td>Modules</td><td>External interfaces</td></tr>
              <tr><td>VFS</td><td>Protocols</td><td>Uniform interface</td></tr>
              <tr><td>init/systemd</td><td>Mount Plans</td><td>Configuration</td></tr>
            </table>
          </div>
        </div>

        <!-- Quickstart -->
        <div class="doc-section" id="section-quickstart">
          <h1>Quickstart</h1>
          <p class="lead">Get running in under 5 minutes.</p>

          <h2>Installation</h2>
          <pre><code class="language-bash"># Install Amplifier
uv tool install --force git+https://github.com/microsoft/amplifier@next
amplifier update
amplifier init

# Set API key
export ANTHROPIC_API_KEY="your-key"</code></pre>

          <h2>Running Amplifier</h2>
          <pre><code class="language-bash"># Interactive mode
amplifier

# Single command
amplifier run "Your prompt here"

# With profile
amplifier run --profile dev "Your prompt"

# Resume session
amplifier continue</code></pre>

          <h2>Profiles</h2>
          <pre><code class="language-bash">amplifier profile list      # View available
amplifier profile use dev   # Set default
amplifier profile current   # Check active</code></pre>
          <p>Built-in: <code>foundation</code> → <code>base</code> → <code>dev</code> → <code>test</code> → <code>full</code></p>

          <h2>Using Agents</h2>
          <p>Use <code>@</code> prefix in interactive mode:</p>
          <pre><code class="language-bash">@explorer What is the architecture?
@bug-hunter Find issues in auth
@zen-architect Design a caching layer</code></pre>
        </div>

        <!-- Installation -->
        <div class="doc-section" id="section-installation">
          <h1>Installation</h1>
          <p class="lead">Detailed setup and troubleshooting.</p>

          <h2>Requirements</h2>
          <ul>
            <li>Python 3.11+</li>
            <li><a href="https://github.com/astral-sh/uv" target="_blank">uv</a> package manager</li>
            <li>API key for an LLM provider</li>
          </ul>

          <h2>Install</h2>
          <pre><code class="language-bash">uv tool install --force git+https://github.com/microsoft/amplifier@next
amplifier update
amplifier init</code></pre>

          <h2>API Keys</h2>
          <pre><code class="language-bash"># Anthropic
export ANTHROPIC_API_KEY="sk-ant-..."

# OpenAI
export OPENAI_API_KEY="sk-..."

# Azure OpenAI
export AZURE_OPENAI_API_KEY="..."
export AZURE_OPENAI_ENDPOINT="https://..."</code></pre>

          <h2>Troubleshooting</h2>
          <pre><code class="language-bash"># Reset profile
amplifier profile reset

# Clear cache
rm -rf ~/.amplifier/module-cache

# Reinstall
uv tool install --force git+https://github.com/microsoft/amplifier@next</code></pre>
        </div>

        <!-- CLI Reference -->
        <div class="doc-section" id="section-cli">
          <h1>CLI Reference</h1>
          <p class="lead">Complete command-line documentation.</p>

          <h2>Global Options</h2>
          <table>
            <tr><td><code>--verbose, -v</code></td><td>Verbose output</td></tr>
            <tr><td><code>--quiet, -q</code></td><td>Suppress output</td></tr>
            <tr><td><code>--config PATH</code></td><td>Config file path</td></tr>
            <tr><td><code>--help</code></td><td>Show help</td></tr>
          </table>

          <h2>Core Commands</h2>
          <h3>amplifier run</h3>
          <pre><code class="language-bash">amplifier run [OPTIONS] "PROMPT"</code></pre>
          <table>
            <tr><td><code>--profile, -p</code></td><td>Profile to use</td></tr>
            <tr><td><code>--provider</code></td><td>Override provider</td></tr>
            <tr><td><code>--model</code></td><td>Override model</td></tr>
            <tr><td><code>--max-tokens</code></td><td>Max response tokens</td></tr>
          </table>

          <h3>Profile Commands</h3>
          <pre><code class="language-bash">amplifier profile list
amplifier profile use NAME
amplifier profile current
amplifier profile show NAME
amplifier profile reset</code></pre>

          <h3>Session Commands</h3>
          <pre><code class="language-bash">amplifier session list
amplifier session resume ID
amplifier session cleanup --days N</code></pre>

          <h2>Interactive Commands</h2>
          <table>
            <tr><td><code>/help</code></td><td>Show commands</td></tr>
            <tr><td><code>/tools</code></td><td>List tools</td></tr>
            <tr><td><code>/agents</code></td><td>List agents</td></tr>
            <tr><td><code>/status</code></td><td>Session info</td></tr>
            <tr><td><code>/clear</code></td><td>Clear history</td></tr>
            <tr><td><code>/quit</code></td><td>Exit</td></tr>
          </table>
        </div>

        <!-- Profiles -->
        <div class="doc-section" id="section-profiles">
          <h1>Profiles</h1>
          <p class="lead">Configure agent capabilities through composable profiles.</p>

          <h2>Profile Hierarchy</h2>
          <pre><code>foundation → base → dev → test → full
   ↓          ↓       ↓      ↓       ↓
minimal   +fs/bash  +tools +test  +all</code></pre>

          <h2>Built-in Profiles</h2>
          <table>
            <tr><th>Profile</th><th>Description</th><th>Use Case</th></tr>
            <tr><td><code>foundation</code></td><td>Minimum</td><td>Embedding</td></tr>
            <tr><td><code>base</code></td><td>+ fs, bash</td><td>Automation</td></tr>
            <tr><td><code>dev</code></td><td>+ tools</td><td>Development</td></tr>
            <tr><td><code>test</code></td><td>+ testing</td><td>Testing</td></tr>
            <tr><td><code>full</code></td><td>Everything</td><td>Maximum</td></tr>
          </table>

          <h2>Profile Structure</h2>
          <pre><code class="language-yaml"># profiles/my-profile.md
---
name: my-profile
extends: dev
---

System prompt here...

## Tools
- tool-filesystem
- tool-bash</code></pre>
        </div>

        <!-- Sessions -->
        <div class="doc-section" id="section-sessions">
          <h1>Sessions</h1>
          <p class="lead">Manage conversation history and continuity.</p>

          <h2>Lifecycle</h2>
          <ol>
            <li><strong>Creation</strong>: Auto-created on first prompt</li>
            <li><strong>Persistence</strong>: Stored in <code>~/.amplifier/projects/</code></li>
            <li><strong>Resume</strong>: Continue any session</li>
            <li><strong>Cleanup</strong>: Manual or automatic</li>
          </ol>

          <h2>Commands</h2>
          <pre><code class="language-bash">amplifier session list
amplifier continue
amplifier session resume abc123
amplifier session cleanup --days 7</code></pre>
        </div>

        <!-- Agents -->
        <div class="doc-section" id="section-agents">
          <h1>Agents</h1>
          <p class="lead">Specialized agents for different tasks.</p>

          <h2>Built-in Agents</h2>
          <table>
            <tr><th>Agent</th><th>Description</th></tr>
            <tr><td><code>@explorer</code></td><td>Codebase exploration</td></tr>
            <tr><td><code>@bug-hunter</code></td><td>Find and diagnose bugs</td></tr>
            <tr><td><code>@zen-architect</code></td><td>System design</td></tr>
            <tr><td><code>@researcher</code></td><td>Deep research</td></tr>
            <tr><td><code>@modular-builder</code></td><td>Modular code</td></tr>
          </table>

          <h2>Usage</h2>
          <pre><code class="language-bash">@explorer What is the architecture?
@bug-hunter Find issues in auth
@zen-architect Design caching</code></pre>
        </div>

        <!-- Collections -->
        <div class="doc-section" id="section-collections">
          <h1>Collections</h1>
          <p class="lead">Shareable bundles of profiles, agents, and context.</p>

          <h2>What's Included</h2>
          <ul>
            <li>Profiles</li>
            <li>Agents</li>
            <li>Context</li>
            <li>Modules</li>
          </ul>

          <h2>Installing</h2>
          <pre><code class="language-bash">amplifier collection install git+https://github.com/org/collection@main
amplifier collection list
amplifier collection remove name</code></pre>

          <h2>Structure</h2>
          <pre><code>my-collection/
├── profiles/
├── agents/
├── context/
├── modules/
└── pyproject.toml</code></pre>
        </div>

        <!-- Architecture Overview -->
        <div class="doc-section" id="section-overview">
          <h1>Architecture Overview</h1>
          <p class="lead">Understanding Amplifier's design.</p>

          <h2>Ring Architecture</h2>
          <pre><code>┌─────────────────────────────────────┐
│        Applications (Ring 3)         │
├─────────────────────────────────────┤
│         Libraries (Ring 2)           │
├─────────────────────────────────────┤
│          Modules (Ring 1)            │
├─────────────────────────────────────┤
│      Kernel (Ring 0) ~2600 lines     │
└─────────────────────────────────────┘</code></pre>

          <h2>Key Principles</h2>
          <ul>
            <li><strong>Mechanism over Policy</strong></li>
            <li><strong>Protocol-based</strong> (duck typing)</li>
            <li><strong>Minimal Core</strong></li>
            <li><strong>Composable</strong></li>
          </ul>
        </div>

        <!-- Kernel Design -->
        <div class="doc-section" id="section-kernel">
          <h1>Kernel Design</h1>
          <p class="lead">Core mechanisms that power Amplifier.</p>

          <h2>Components</h2>
          <table>
            <tr><th>Component</th><th>Role</th></tr>
            <tr><td><code>AmplifierSession</code></td><td>Lifecycle management</td></tr>
            <tr><td><code>Coordinator</code></td><td>Module mounting</td></tr>
            <tr><td><code>HookRegistry</code></td><td>Event routing</td></tr>
            <tr><td><code>Protocols</code></td><td>Interface definitions</td></tr>
          </table>

          <h2>Kernel Does</h2>
          <ul>
            <li>Mount/unmount modules</li>
            <li>Route events through hooks</li>
            <li>Manage session lifecycle</li>
            <li>Coordinate providers, tools, orchestrators</li>
          </ul>

          <h2>Kernel Doesn't</h2>
          <ul>
            <li>Make policy decisions</li>
            <li>Implement behaviors</li>
            <li>Handle domain logic</li>
          </ul>
        </div>

        <!-- Module System -->
        <div class="doc-section" id="section-modules">
          <h1>Module System</h1>
          <p class="lead">How modules extend capabilities.</p>

          <h2>Module Types</h2>
          <table>
            <tr><th>Type</th><th>Purpose</th></tr>
            <tr><td>Providers</td><td>LLM integrations</td></tr>
            <tr><td>Tools</td><td>Agent capabilities</td></tr>
            <tr><td>Hooks</td><td>Event interception</td></tr>
            <tr><td>Orchestrators</td><td>Conversation flow</td></tr>
            <tr><td>Context Managers</td><td>State persistence</td></tr>
          </table>

          <h2>Module Lifecycle</h2>
          <pre><code class="language-python">async def mount(coordinator, config: dict) -> None:
    tool = MyTool(config)
    coordinator.register_tool(tool)</code></pre>
        </div>

        <!-- Mount Plans -->
        <div class="doc-section" id="section-mount-plans">
          <h1>Mount Plans</h1>
          <p class="lead">Declarative system configuration.</p>

          <h2>Structure</h2>
          <pre><code class="language-yaml">providers:
  - module: provider-anthropic
    config:
      default_model: claude-sonnet-4-5

tools:
  - module: tool-filesystem
  - module: tool-bash

orchestrator:
  module: loop-streaming</code></pre>
        </div>

        <!-- Events -->
        <div class="doc-section" id="section-events">
          <h1>Events</h1>
          <p class="lead">The event system for extensibility.</p>

          <h2>Event Categories</h2>
          <table>
            <tr><th>Category</th><th>Events</th></tr>
            <tr><td>Session</td><td><code>session:start</code>, <code>session:end</code></td></tr>
            <tr><td>Provider</td><td><code>provider:request</code>, <code>provider:response</code></td></tr>
            <tr><td>Tool</td><td><code>tool:pre</code>, <code>tool:post</code></td></tr>
          </table>

          <h2>Hook Results</h2>
          <table>
            <tr><th>Action</th><th>Effect</th></tr>
            <tr><td><code>continue</code></td><td>Pass to next</td></tr>
            <tr><td><code>deny</code></td><td>Block operation</td></tr>
            <tr><td><code>modify</code></td><td>Change data</td></tr>
            <tr><td><code>ask_user</code></td><td>Request confirmation</td></tr>
          </table>
        </div>

        <!-- Custom Tools -->
        <div class="doc-section" id="section-dev-tools">
          <h1>Custom Tools</h1>
          <p class="lead">Build tools in 2 minutes with duck typing.</p>

          <h2>Minimal Tool</h2>
          <pre><code class="language-python">from amplifier_core.models import ToolResult

class MyTool:
    @property
    def name(self) -> str:
        return "my_tool"

    @property
    def description(self) -> str:
        return "Description for the LLM"

    async def execute(self, input: dict) -> ToolResult:
        return ToolResult(success=True, output="Result")</code></pre>

          <h2>Mount</h2>
          <pre><code class="language-python">async def mount(coordinator, config: dict) -> None:
    coordinator.register_tool(MyTool())</code></pre>

          <h2>Package</h2>
          <pre><code class="language-toml">[project.entry-points."amplifier.modules"]
my-tool = "my_tool:mount"</code></pre>
        </div>

        <!-- Hooks -->
        <div class="doc-section" id="section-dev-hooks">
          <h1>Hooks</h1>
          <p class="lead">Intercept and modify behavior.</p>

          <h2>Basic Hook</h2>
          <pre><code class="language-python">from amplifier_core.models import HookResult

async def my_hook(event: str, data: dict) -> HookResult:
    if event == "tool:pre" and "rm -rf" in str(data):
        return HookResult(action="deny", reason="Blocked")
    return HookResult(action="continue")</code></pre>

          <h2>Actions</h2>
          <table>
            <tr><th>Action</th><th>Description</th></tr>
            <tr><td><code>continue</code></td><td>Allow operation</td></tr>
            <tr><td><code>deny</code></td><td>Block with reason</td></tr>
            <tr><td><code>modify</code></td><td>Change event data</td></tr>
            <tr><td><code>ask_user</code></td><td>Request confirmation</td></tr>
          </table>
        </div>

        <!-- Providers -->
        <div class="doc-section" id="section-dev-providers">
          <h1>Custom Providers</h1>
          <p class="lead">Integrate new LLM backends.</p>

          <h2>Provider Protocol</h2>
          <pre><code class="language-python">class MyProvider:
    @property
    def name(self) -> str:
        return "my-provider"

    async def complete(
        self,
        messages: list[Message],
        tools: list[dict] | None = None,
        **kwargs
    ) -> Response:
        result = await call_api(messages)
        return Response(content=result.text)</code></pre>
        </div>

        <!-- Contracts -->
        <div class="doc-section" id="section-contracts">
          <h1>Contracts</h1>
          <p class="lead">Protocol definitions for interfaces.</p>

          <h2>Tool Contract</h2>
          <pre><code class="language-python">class ToolProtocol:
    name: str
    description: str
    input_schema: dict | None
    async def execute(self, input: dict) -> ToolResult</code></pre>

          <h2>Provider Contract</h2>
          <pre><code class="language-python">class ProviderProtocol:
    name: str
    async def complete(self, messages, tools, **kw) -> Response</code></pre>

          <h2>Hook Contract</h2>
          <pre><code class="language-python">class HookProtocol:
    events: list[str]
    priority: int
    async def handle(self, event, data) -> HookResult</code></pre>
        </div>

        <!-- Testing -->
        <div class="doc-section" id="section-testing">
          <h1>Testing</h1>
          <p class="lead">Test your modules.</p>

          <h2>Testing Tools</h2>
          <pre><code class="language-python">import pytest

@pytest.mark.asyncio
async def test_my_tool():
    tool = MyTool()
    result = await tool.execute({"query": "test"})
    assert result.success</code></pre>

          <h2>Integration</h2>
          <pre><code class="language-python">from amplifier_core.testing import create_test_coordinator

@pytest.mark.asyncio
async def test_integration():
    coord = create_test_coordinator()
    await mount(coord, {})
    tool = coord.mounted["tools"]["my_tool"]
    result = await tool.execute({"input": "test"})
    assert result.success</code></pre>
        </div>

        <!-- Module Providers -->
        <div class="doc-section" id="section-mod-providers">
          <h1>Provider Modules</h1>
          <p class="lead">LLM integration modules.</p>

          <h2>Official</h2>
          <table>
            <tr><th>Module</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-provider-anthropic">provider-anthropic</a></td><td>Claude models</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-provider-openai">provider-openai</a></td><td>GPT models</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-provider-azure">provider-azure</a></td><td>Azure OpenAI</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-provider-ollama">provider-ollama</a></td><td>Local via Ollama</td></tr>
          </table>

          <h2>Community</h2>
          <table>
            <tr><th>Module</th><th>Author</th></tr>
            <tr><td><a href="https://github.com/brycecutt-msft/amplifier-module-provider-bedrock">provider-bedrock</a></td><td>@brycecutt-msft</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-module-provider-openai-realtime">provider-openai-realtime</a></td><td>@robotdad</td></tr>
          </table>
        </div>

        <!-- Module Tools -->
        <div class="doc-section" id="section-mod-tools">
          <h1>Tool Modules</h1>
          <p class="lead">Agent capability modules.</p>

          <h2>Official</h2>
          <table>
            <tr><th>Module</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-filesystem">tool-filesystem</a></td><td>File operations</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-bash">tool-bash</a></td><td>Shell commands</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-web">tool-web</a></td><td>Web requests</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-search">tool-search</a></td><td>Code search</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-task">tool-task</a></td><td>Sub-agent tasks</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-tool-todo">tool-todo</a></td><td>Task tracking</td></tr>
          </table>

          <h2>Community</h2>
          <table>
            <tr><th>Module</th><th>Author</th></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-module-tool-mcp">tool-mcp</a></td><td>@robotdad</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-module-tool-skills">tool-skills</a></td><td>@robotdad</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-module-tool-youtube-dl">tool-youtube-dl</a></td><td>@robotdad</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-module-tool-whisper">tool-whisper</a></td><td>@robotdad</td></tr>
          </table>
        </div>

        <!-- Module Orchestrators -->
        <div class="doc-section" id="section-mod-orchestrators">
          <h1>Orchestrator Modules</h1>
          <p class="lead">Conversation flow control.</p>

          <table>
            <tr><th>Module</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-loop-basic">loop-basic</a></td><td>Simple loop</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-loop-streaming">loop-streaming</a></td><td>Streaming</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-module-loop-event">loop-event</a></td><td>Event-driven</td></tr>
          </table>
        </div>

        <!-- Library Core -->
        <div class="doc-section" id="section-lib-core">
          <h1>amplifier-core</h1>
          <p class="lead">The kernel library.</p>

          <h2>Key Exports</h2>
          <pre><code class="language-python">from amplifier_core import (
    AmplifierSession,
    Coordinator,
    HookRegistry,
)

from amplifier_core.models import (
    ToolResult,
    HookResult,
    Message,
    Response,
)</code></pre>

          <p><a href="https://github.com/microsoft/amplifier-core">github.com/microsoft/amplifier-core</a></p>
        </div>

        <!-- Library Profiles -->
        <div class="doc-section" id="section-lib-profiles">
          <h1>amplifier-profiles</h1>
          <p class="lead">Profile management library.</p>

          <pre><code class="language-python">from amplifier_profiles import (
    ProfileLoader,
    resolve_profile,
    generate_mount_plan,
)

loader = ProfileLoader(search_paths=[...])
profile = loader.load("dev")
plan = generate_mount_plan(profile)</code></pre>

          <p><a href="https://github.com/microsoft/amplifier-profiles">github.com/microsoft/amplifier-profiles</a></p>
        </div>

        <!-- Library Collections -->
        <div class="doc-section" id="section-lib-collections">
          <h1>amplifier-collections</h1>
          <p class="lead">Collection discovery and management.</p>

          <pre><code class="language-python">from amplifier_collections import (
    CollectionResolver,
    install_collection,
)

resolver = CollectionResolver(search_paths=[...])
path = resolver.resolve("my-collection")

await install_collection(
    name="my-collection",
    source="git+https://github.com/org/collection@main",
)</code></pre>

          <p><a href="https://github.com/microsoft/amplifier-collections">github.com/microsoft/amplifier-collections</a></p>
        </div>

        <!-- Showcase -->
        <div class="doc-section" id="section-showcase">
          <h1>Showcase</h1>
          <p class="lead">Community applications and modules.</p>

          <div class="callout callout-danger">
            <p><strong>Security:</strong> Community code executes with full system access. Review before use.</p>
          </div>

          <h2>Applications</h2>
          <table>
            <tr><th>App</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-app-transcribe">app-transcribe</a></td><td>YouTube transcription</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-app-blog-creator">app-blog-creator</a></td><td>AI blog creation</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-app-voice">app-voice</a></td><td>Voice assistant</td></tr>
            <tr><td><a href="https://github.com/samueljklee/amplifier-app-tool-generator">app-tool-generator</a></td><td>Tool generator</td></tr>
            <tr><td><a href="https://github.com/DavidKoleczek/amplifier-app-benchmarks">app-benchmarks</a></td><td>Benchmarking</td></tr>
          </table>

          <h2>Collections</h2>
          <table>
            <tr><th>Collection</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-collection-ddd">collection-ddd</a></td><td>Document-Driven Dev</td></tr>
            <tr><td><a href="https://github.com/robotdad/amplifier-collection-spec-kit">collection-spec-kit</a></td><td>Spec-Driven Dev</td></tr>
          </table>
        </div>

        <!-- Official Collections -->
        <div class="doc-section" id="section-official-collections">
          <h1>Official Collections</h1>
          <p class="lead">Curated by the Amplifier team.</p>

          <table>
            <tr><th>Collection</th><th>Description</th></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-collection-toolkit">toolkit</a></td><td>CLI tool building</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-collection-design-intelligence">design-intelligence</a></td><td>Design agents</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-collection-recipes">recipes</a></td><td>Workflow orchestration</td></tr>
            <tr><td><a href="https://github.com/microsoft/amplifier-collection-issues">issues</a></td><td>Issue management</td></tr>
          </table>

          <h2>Installing</h2>
          <pre><code class="language-bash">amplifier collection install git+https://github.com/microsoft/amplifier-collection-toolkit@main
amplifier run --profile toolkit:builder "Create a CLI"</code></pre>
        </div>

        <!-- Contributing -->
        <div class="doc-section" id="section-contributing">
          <h1>Contributing</h1>
          <p class="lead">Help build Amplifier.</p>

          <h2>Ways to Help</h2>
          <ul>
            <li>Report bugs</li>
            <li>Suggest features</li>
            <li>Submit PRs</li>
            <li>Build modules</li>
            <li>Write docs</li>
          </ul>

          <h2>Setup</h2>
          <pre><code class="language-bash">git clone https://github.com/microsoft/amplifier.git
cd amplifier
uv sync
uv run pytest
uv run ruff check .</code></pre>
        </div>

        <!-- Roadmap -->
        <div class="doc-section" id="section-roadmap">
          <h1>Roadmap</h1>
          <p class="lead">Where we're heading.</p>

          <div class="callout callout-warning">
            <p>Subject to change based on priorities.</p>
          </div>

          <h2>High Priority</h2>
          <ul>
            <li>Testing utilities</li>
            <li>@tool decorator</li>
            <li>@hook decorator</li>
          </ul>

          <h2>Medium Priority</h2>
          <ul>
            <li>Event inspector</li>
            <li>Scaffold templates</li>
            <li>Hot reload</li>
          </ul>

          <h2>Future</h2>
          <ul>
            <li>Plan visualizer</li>
            <li>Protocol validation</li>
            <li>Remote execution</li>
          </ul>
        </div>
      </div>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-yaml.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-toml.min.js"></script>

  <script>
    // Nav toggle
    function toggleGroup(el) {
      el.classList.toggle('open');
      el.nextElementSibling.classList.toggle('show');
    }

    // Section navigation
    const navItems = document.querySelectorAll('.nav-item[data-section]');
    const sections = document.querySelectorAll('.doc-section');

    function showSection(id) {
      navItems.forEach(item => item.classList.toggle('active', item.dataset.section === id));
      sections.forEach(sec => sec.classList.toggle('active', sec.id === `section-${id}`));
      history.pushState(null, '', `#${id}`);
      window.scrollTo(0, 0);
      Prism.highlightAll();
      document.getElementById('sidebar').classList.remove('open');
    }

    navItems.forEach(item => item.addEventListener('click', () => showSection(item.dataset.section)));

    // Search
    const searchIndex = [];
    sections.forEach(sec => {
      const id = sec.id.replace('section-', '');
      const title = sec.querySelector('h1')?.textContent || id;
      const lead = sec.querySelector('.lead')?.textContent || '';
      const content = sec.textContent.toLowerCase();
      searchIndex.push({ id, title, lead, content });
    });

    function handleSearch(e) {
      const q = e.target.value.toLowerCase().trim();
      const results = document.getElementById('search-results');
      if (q.length < 2) { results.classList.remove('show'); return; }

      const matches = searchIndex.filter(i => i.title.toLowerCase().includes(q) || i.content.includes(q));
      results.innerHTML = matches.length
        ? matches.slice(0, 6).map(i => `<div class="search-result" onclick="showSection('${i.id}'); document.getElementById('search-results').classList.remove('show'); document.getElementById('search-input').value='';"><div class="search-result-title">${i.title}</div><div class="search-result-path">${i.lead.slice(0, 60)}...</div></div>`).join('')
        : '<div style="padding:12px;color:var(--text-3);font-size:12px;">No results</div>';
      results.classList.add('show');
    }

    document.addEventListener('click', e => {
      if (!e.target.closest('.search-wrap')) document.getElementById('search-results').classList.remove('show');
    });

    document.addEventListener('keydown', e => {
      if (e.key === '/' && !e.target.closest('input')) { e.preventDefault(); document.getElementById('search-input').focus(); }
      if (e.key === 'Escape') { document.getElementById('search-results').classList.remove('show'); document.getElementById('search-input').blur(); }
    });

    // Init
    const hash = window.location.hash.slice(1);
    if (hash && searchIndex.find(i => i.id === hash)) showSection(hash);
    else showSection('introduction');

    window.addEventListener('popstate', () => {
      const h = window.location.hash.slice(1);
      if (h && searchIndex.find(i => i.id === h)) showSection(h);
    });

    Prism.highlightAll();
  </script>
</body>
</html>
